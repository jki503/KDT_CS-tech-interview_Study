# 트랜잭션

> 하나의 논리적 기능을 수행하기 위한 작업의 단위로,  
> DB의 일관된 상태를 또 다른 일관된 상태로 변환 시키는 기능을 수행

</br>

## 트랜잭션 단위

> 작업 수행에 요구되는 SQL 집합

- 예시
  - 1. A 계좌에서 잔액 확인 (조회)
  - 2. A 계좌의 금액에서 이체할 금액을 빼고 다시 저장
  - 3. B 계좌의 잔액 확인
  - 4. B 계좌의 금액에서 이체할 금액을 더하고 다시 저장

</br>

## 트랜잭션 사용 이유

- 데이터 베이스가 항상 정확하고 일관된 상태 유지
- 장애 발생 시 복구나, 다수의 사용자가 동시에 사용할 수 있도록 하는 단위
- 트랜잭션 관리를 통해 데이터베이스의 회복과 병행 제어가 가능해져 결과적으로 데이터베이스가 일관된 상태 유지
- 트랜잭션 명령이 모두 처리되거나 하나도 처리되지 않아야 데이터베이스가 일관된 상태 유지

## 트랜잭션 특성

### 원자성

### 일관성

### 격리성

### 지속성

## 트랜잭션 연산

- commit

- rollback

## 트랜잭션 상태

### 활동

### 부분 완료

### 완료

### 실패

### 철회

## 트랜잭션 사용시 주의할 점

## 장애외 회복

### 장애

- 트랜잭션 장애
- 시스템 장애
- 미디어 장애

### 회복

- 즉시 갱신

- 지연 갱신

- check point recovery

- media recovery
