# 운영체제란?

</br>

> 컴퓨터 시스템을 운영하는 소프트웨어  
> 애플리케이션과 하드웨어 사이에서 인터페이스로 동작하며 시스템 서비스 지원  
> `Process`, `resource`, `user interface` 관리

</br>

## 유저모드와 커널모드로 나누는 이유

</br>

> `유저`에서 프로세스를 실행 시키고, 시스템 콜을 호출  
> `커널`은 시스템 콜을 실행하고 유저에게 시스템 콜 정보를 반환  
> 프로그램을 악의적인 의도로부터 보호하기 위해 나눈 구조

</br>

</br>

## 커널

</br>

> 사용자 수준의 소프트웨어와 하드웨어(CPU, 메모리 등)간의 통신을 관리  
> 커널은 인터페이스로써 응용 프로그램 수행에 필요한 서비스를 제공  
> 메모리 주소 공간 등 리소스 관리
>
> `커널은 사용자가 물리적인 하드웨어에 접근하고 싶을때 사용하게 해주는 매개체이자`  
> `여러 사용자들에 대해 추상화하여 관리 해준다.`

</br>

- File System

> 물리적 자원인 디스크를 추상적 자원인 파일로 할당

</br>

- Process Management

> 스케줄러, 물리적 자원인 CPU를 추상적 자원인 프로세스에 할당

</br>

- Device Management

> 외부 장치에 대한 접근

</br>

- Memroy Management

> 물리적 메모리를 추상적 자원인 페이지나 세그먼트 할당

</br>

- Network Management

> 물리적 자원인 네트워크 장치를 추상적 자원인 소켓으로 할당

</br>

- Interrupt Handling

</br>

- I/O Communication

</br>

## 시스템 콜

## 인터럽트

</br>

> CPU가 프로그램을 실행 하고 있을 때
> `입출력 하드웨어` 등의 장치나 `예외 상황이 발생`하여 처리가 필요할 경우에  
> 처리가 필요할 경우 마이크로프로세서에게 알려 처리하도록 해주는 것

</br>

- 하드웨어 인터럽트

</br>

> 하드웨어가 발생시키는 인터럽트로, CPU가 아닌 다른 하드웨어 장치가 CPU에 서비스를 요청해야할경우

</br>

- 소프트웨어 인터럽트

</br>

> 사용자 프로그램이 스스로 인터럽트 라인(예외 상황, system call)을 설정하여 인터럽트 발생
> cpu는 매번 명령 수행 전 인터럽트 라인이 세팅 되었는지 체크

</br>

- 인터럽트 과정

> process A가 system call을 통해 인터럽트 발생  
> CPU가 현재 진행중인 기계어 코드 종료  
> context switching 발생하고 process A ready 상태로 이동 (IO는 wait)
> `인터럽트 벡터`를 읽어 들여 `ISR(인터럽트 서비스 루틴)` 주소값을 얻어 루틴 실행
> 해당 코드 실행  
> ISR의 IRET 명령어로 인터럽트가 해제 되고 PC값을 복원하여 다시 process A 실행

</br>

> `인터럽트 벡터` : 인터럽트 발생시 처리해야 할 인터럽트 핸들러의 주소 보관하는 테이블  
> `ISR` : 각 인터럽트 처리하기 위한 루틴
